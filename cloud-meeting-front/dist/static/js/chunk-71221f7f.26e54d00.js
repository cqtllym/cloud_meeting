(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-71221f7f"],{"1b18c":function(e,t,r){},"791a":function(e,t,r){"use strict";r("1b18c")},bafa:function(e,t,r){e.exports=r.p+"static/img/company.78801f3f.png"},bb0f:function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-card",{attrs:{"body-style":{padding:"24px 32px",paddingBottom:"64px",textAlign:"left"},bordered:!1}},[n("a-form-model",{ref:"ruleForm",staticStyle:{"margin-top":"30px","margin-left":"38%"},attrs:{model:e.form,rules:e.rules,"label-col":e.labelCol,"wrapper-col":e.wrapperCol}},[n("a-form-model-item",{ref:"name",attrs:{label:"企业名称",prop:"name"}},[n("a-input",{attrs:{disabled:!0},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}}),"founder"==e.role?n("a-button",{attrs:{type:"link"},on:{click:e.dismiss}},[e._v(" 解散企业 ")]):e._e()],1),n("a-form-model-item",{ref:"id",attrs:{label:"企业ID",prop:"id"}},[n("a-input",{attrs:{disabled:!0},model:{value:e.form.id,callback:function(t){e.$set(e.form,"id",t)},expression:"form.id"}})],1),n("a-form-model-item",{ref:"type",attrs:{label:"企业类型",prop:"type"}},[n("a-input",{attrs:{disabled:!0},model:{value:e.form.type,callback:function(t){e.$set(e.form,"type",t)},expression:"form.type"}})],1),n("a-form-model-item",{ref:"address",attrs:{label:"地址",prop:"address"}},[n("a-input",{attrs:{disabled:!e.isEdit},on:{blur:function(){e.$refs.address.onFieldBlur()}},model:{value:e.form.address,callback:function(t){e.$set(e.form,"address",t)},expression:"form.address"}}),e.isShow||"founder"!=e.role?e._e():n("a-button",{attrs:{type:"link"},on:{click:e.edit}},[e._v(" 修改 ")]),e.isShow?n("a-button",{attrs:{type:"link"},on:{click:e.confirm}},[e._v(" 确认 ")]):e._e(),e.isShow?n("a-button",{staticStyle:{"margin-left":"3%"},attrs:{type:"link"},on:{click:e.cancel}},[e._v(" 取消 ")]):e._e()],1),n("a-form-model-item",{ref:"founder",attrs:{label:"创建人",prop:"founder"}},[n("a-input",{attrs:{disabled:!0},model:{value:e.form.founder,callback:function(t){e.$set(e.form,"founder",t)},expression:"form.founder"}})],1),n("a-form-model-item",{ref:"phone",attrs:{label:"创建人手机",prop:"phone"}},[n("a-input",{attrs:{disabled:!0},model:{value:e.form.phone,callback:function(t){e.$set(e.form,"phone",t)},expression:"form.phone"}})],1),n("a-form-model-item",{ref:"email",attrs:{label:"创建人邮箱",prop:"email"}},[n("a-input",{attrs:{disabled:!0},model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}})],1)],1),n("img",{staticStyle:{width:"32%",position:"absolute",left:"40px",top:"40px"},attrs:{src:r("bafa")}})],1)},a=[],i=r("f3f3"),o=(r("b0c0"),r("e3fa")),u=r("5880"),s={data:function(){return{isEdit:!1,isShow:!1,context:"",labelCol:{span:4},wrapperCol:{span:12},other:"",form:{name:"",id:"",type:"",address:"",founder:"",phone:"",email:""},rules:{address:[{required:!0,message:"地址不能为空",trigger:"blur"}]},role:""}},computed:Object(i["a"])({},Object(u["mapGetters"])("account",["userId","username","telephone","sex","companyId","email","companyName","roles"])),beforeMount:function(){this.show(),this.role=this.roles[0].id},created:function(){},methods:Object(i["a"])(Object(i["a"])({},Object(u["mapMutations"])("account",["setUserName","setUserId","setCompanyName","setCompanyId","setSex","setTelephone","setRoles"])),{},{show:function(){var e=this;Object(o["l"])(this.userId).then((function(t){var r=t.data.data;e.form.id=r[0].id,e.form.name=r[0].name,e.form.type=r[0].type,e.form.address=r[0].address,e.form.founder=r[0].founderName,e.form.phone=r[0].founderPhone,e.form.email=r[0].founderEmail}))},edit:function(){this.isEdit=!this.isEdit,this.isShow=!this.isShow,this.context=this.form.address},confirm:function(){this.isEdit=!this.isEdit,this.isShow=!this.isShow},cancel:function(){this.isEdit=!this.isEdit,this.isShow=!this.isShow,this.form.address=this.context},dismiss:function(){var e=this;this.$confirm({title:"你确定要解散企业吗？",content:"解散企业后，你将失去和员工的联系，请谨慎操作！",onOk:function(){Object(o["c"])(e.form.id).then(e.afterDismiss)},onCancel:function(){}})},afterDismiss:function(e){var t=e.data;if(200==t.code){var r=[{id:"user"}],n="";this.setCompanyName(n),this.setRoles(r),this.$message.success("解散成功！");var a="/resourceManagement/information",i="/dashboard";this.$closePage(a,i),this.$refreshPage(i)}}})},c=s,p=(r("791a"),r("2877")),f=Object(p["a"])(c,n,a,!1,null,"44482a8d",null);t["default"]=f.exports},e3fa:function(e,t,r){"use strict";r.d(t,"a",(function(){return s})),r.d(t,"h",(function(){return p})),r.d(t,"n",(function(){return d})),r.d(t,"f",(function(){return m})),r.d(t,"m",(function(){return b})),r.d(t,"o",(function(){return y})),r.d(t,"b",(function(){return g})),r.d(t,"e",(function(){return x})),r.d(t,"d",(function(){return j})),r.d(t,"k",(function(){return v})),r.d(t,"i",(function(){return T})),r.d(t,"c",(function(){return S})),r.d(t,"j",(function(){return N})),r.d(t,"l",(function(){return A})),r.d(t,"g",(function(){return $}));var n=r("c964"),a=(r("96cf"),r("7424")),i=r("b775"),o=r("4328"),u=r.n(o);function s(e,t,r,n){return c.apply(this,arguments)}function c(){return c=Object(n["a"])(regeneratorRuntime.mark((function e(t,r,n,o){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(i["e"])(a["CREATE_COMPANY"],i["a"].PUT,u.a.stringify({companyName:r,userId:t,companyAddress:n,companyType:o}),{headers:{"Content-Type":"application/x-www-form-urlencoded"}}));case 1:case"end":return e.stop()}}),e)}))),c.apply(this,arguments)}function p(e,t){return f.apply(this,arguments)}function f(){return f=Object(n["a"])(regeneratorRuntime.mark((function e(t,r){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(i["e"])(a["INVITE_PERSON"],i["a"].GET,{company_id:r,user_id:t}));case 1:case"end":return e.stop()}}),e)}))),f.apply(this,arguments)}function d(e){return l.apply(this,arguments)}function l(){return l=Object(n["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(i["e"])(a["SEARCH_PERSON"],i["a"].GET,{keyword:t}));case 1:case"end":return e.stop()}}),e)}))),l.apply(this,arguments)}function m(e){return h.apply(this,arguments)}function h(){return h=Object(n["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(i["e"])(a["FETCH_PERSON"],i["a"].GET,{company_id:t}));case 1:case"end":return e.stop()}}),e)}))),h.apply(this,arguments)}function b(e,t){return w.apply(this,arguments)}function w(){return w=Object(n["a"])(regeneratorRuntime.mark((function e(t,r){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(i["e"])(a["SEARCH_INFORMATION"],i["a"].GET,{userName:t,companyId:r}));case 1:case"end":return e.stop()}}),e)}))),w.apply(this,arguments)}function y(e,t){return O.apply(this,arguments)}function O(){return O=Object(n["a"])(regeneratorRuntime.mark((function e(t,r){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(i["e"])(a["SET_ADMIN"],i["a"].PUT,u.a.stringify({userId:t,companyId:r}),{headers:{"Content-Type":"application/x-www-form-urlencoded"}}));case 1:case"end":return e.stop()}}),e)}))),O.apply(this,arguments)}function g(e,t){return R.apply(this,arguments)}function R(){return R=Object(n["a"])(regeneratorRuntime.mark((function e(t,r){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(i["e"])(a["DELETE_ADMIN"],i["a"].PUT,u.a.stringify({userId:t,companyId:r}),{headers:{"Content-Type":"application/x-www-form-urlencoded"}}));case 1:case"end":return e.stop()}}),e)}))),R.apply(this,arguments)}function x(e){return E.apply(this,arguments)}function E(){return E=Object(n["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(i["e"])(a["FETCH_EMPLOYEE"],i["a"].GET,{companyId:t}));case 1:case"end":return e.stop()}}),e)}))),E.apply(this,arguments)}function j(e){return k.apply(this,arguments)}function k(){return k=Object(n["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(i["e"])(a["FETCH_ADMIN"],i["a"].GET,{companyId:t}));case 1:case"end":return e.stop()}}),e)}))),k.apply(this,arguments)}function v(e){return I.apply(this,arguments)}function I(){return I=Object(n["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(i["e"])(a["SEARCH_COMPANY"],i["a"].GET,{name:t}));case 1:case"end":return e.stop()}}),e)}))),I.apply(this,arguments)}function T(e,t){return _.apply(this,arguments)}function _(){return _=Object(n["a"])(regeneratorRuntime.mark((function e(t,r){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(i["e"])(a["APPLICATION_PERSON"],i["a"].GET,{user_id:t,company_id:r}));case 1:case"end":return e.stop()}}),e)}))),_.apply(this,arguments)}function S(e){return C.apply(this,arguments)}function C(){return C=Object(n["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(i["e"])(a["DISMISS_COMPANY"],i["a"].POST,u.a.stringify({companyId:t}),{headers:{"Content-Type":"application/x-www-form-urlencoded"}}));case 1:case"end":return e.stop()}}),e)}))),C.apply(this,arguments)}function N(e,t){return P.apply(this,arguments)}function P(){return P=Object(n["a"])(regeneratorRuntime.mark((function e(t,r){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(i["e"])(a["QUIT_COMPANY"],i["a"].PUT,u.a.stringify({userId:t,companyId:r}),{headers:{"Content-Type":"application/x-www-form-urlencoded"}}));case 1:case"end":return e.stop()}}),e)}))),P.apply(this,arguments)}function A(e){return M.apply(this,arguments)}function M(){return M=Object(n["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(i["e"])(a["SEARCH_COMPANY_INFORMATION"],i["a"].GET,{userId:t}));case 1:case"end":return e.stop()}}),e)}))),M.apply(this,arguments)}function $(e,t){return G.apply(this,arguments)}function G(){return G=Object(n["a"])(regeneratorRuntime.mark((function e(t,r){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(i["e"])(a["FIRE_PERSON"],i["a"].POST,u.a.stringify({companyId:t,userIdList:r}),{headers:{"Content-Type":"application/x-www-form-urlencoded"}}));case 1:case"end":return e.stop()}}),e)}))),G.apply(this,arguments)}}}]);