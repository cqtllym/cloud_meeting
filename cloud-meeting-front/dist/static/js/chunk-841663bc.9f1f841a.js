(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-841663bc"],{"4b3f":function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("common-layout",[a("div",{staticClass:"top"},[a("div",{staticClass:"header"},[a("img",{staticClass:"logo",attrs:{alt:"logo",src:s("b9ff")}}),a("span",{staticClass:"title"},[e._v(e._s(e.systemName))])]),a("div",{staticClass:"desc"},[e._v("SaaS云服务系统开发—云会议系统")])]),a("div",{staticClass:"login"},[a("a-form",{attrs:{form:e.form},on:{submit:e.onSubmit}},[a("a-alert",{directives:[{name:"show",rawName:"v-show",value:e.error,expression:"error"}],staticStyle:{"margin-bottom":"24px"},attrs:{type:"error",closable:!0,message:e.error,showIcon:""}}),a("a-form-item",[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["username",{rules:[{required:!0,message:"请输入账户名",whitespace:!0}]}],expression:"[\n            'username',\n            {\n              rules: [\n                { required: true, message: '请输入账户名', whitespace: true },\n              ],\n            },\n          ]"}],attrs:{autocomplete:"autocomplete",size:"large",placeholder:"admin"}},[a("a-icon",{attrs:{slot:"prefix",type:"user"},slot:"prefix"})],1)],1),a("a-form-item",[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["password",{rules:[{required:!0,message:"请输入密码",whitespace:!0}]}],expression:"[\n            'password',\n            {\n              rules: [\n                { required: true, message: '请输入密码', whitespace: true },\n              ],\n            },\n          ]"}],attrs:{size:"large",placeholder:"888888",autocomplete:"autocomplete",type:"password"}},[a("a-icon",{attrs:{slot:"prefix",type:"lock"},slot:"prefix"})],1)],1),a("a-form-item",[a("a-button",{staticStyle:{width:"100%"},attrs:{loading:e.logging,size:"large",htmlType:"submit",type:"primary"}},[e._v("登录")]),a("div",[a("span",[e._v("没有账户？")]),a("router-link",{attrs:{to:"/register"}},[e._v("注册账户")])],1)],1),a("div")],1)],1)])},r=[],o=s("f3f3"),i=s("d808"),n=s("93d6"),m=s("5880"),l=s("8237"),c=s.n(l),u={name:"Login",components:{CommonLayout:i["a"]},data:function(){return{logging:!1,error:"",form:this.$form.createForm(this)}},computed:{systemName:function(){return this.$store.state.setting.systemName}},methods:Object(o["a"])(Object(o["a"])({},Object(m["mapMutations"])("account",["setUserName","setUserId","setCompanyName","setCompanyId","setSex","setTelephone","setEmail","setRoles"])),{},{onSubmit:function(e){var t=this;e.preventDefault(),this.form.validateFields((function(e){if(!e){t.logging=!0;var s=t.form.getFieldValue("username"),a=c()(t.form.getFieldValue("password"));Object(n["b"])(s,a).then(t.afterLogin)}}))},afterLogin:function(e){this.logging=!1;var t=e.data;if(200==t.code){var s=t.data,a=s.username,r=s.userId,o=s.companyName,i=s.companyId,n=s.roles,m=s.telephone,l=s.email,c=s.sex;this.setUserName(a),this.setUserId(r),this.setCompanyName(o),this.setCompanyId(i),this.setSex(c),this.setTelephone(m),this.setEmail(l),this.setRoles(n),this.$router.push("/dashboard"),this.$message.success(a+"登录成功",3)}else this.$message.error(t.errMsg)}})},p=u,d=(s("feb5"),s("2877")),f=Object(d["a"])(p,a,r,!1,null,"72700fb2",null);t["default"]=f.exports},"62d4":function(e,t,s){},feb5:function(e,t,s){"use strict";s("62d4")}}]);